{% extends "global/cliente-base.html" %}
{% load static %}

{% block title %}  
{% endblock %}


{% block styles %}
  <link rel="stylesheet" href="{% static 'LSCliente/css/style-cliente_list_user.css' %}">
  <link rel="stylesheet" href="{% static "global/css/cliente-navbar.css" %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
{% endblock styles %}


{% block content %}
  {% include "global/partials/cliente_navbar.html" %}
  

<div class="container-flex">

  <div class="left-col">
    <h1 class="listadeusuarioletreiro">
      Lista <br> 
      de <br>
      <div class="listadeusuarioletreiromaisescuro">Usuários</div>
      
    </h1>
    <a href="#">Novo Usuário</a>
    
    {% if messages %}
      <div>
        {% for message in messages %}
          <div>{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
  </div>

  <div class="right-col">
    <div>
    <input type="text" placeholder="Buscar">
    </div>
  
    <div>
      {% if usuarios %}
        {% for usuario in usuarios %}
          <div>
            <div>
              {% if usuario.foto %}
                <img src="{{ usuario.foto.url }}" alt="Foto de {{ usuario.nome }}">
              {% else %}
                <img src="{% static 'img/default-user.png' %}" alt="Foto padrão">
              {% endif %}
            </div>
            
            <div>
              <h3>{{ usuario.nome }}</h3>
              <p><strong>ID:</strong> {{ usuario.id }}</p>
              <p><strong>Status:</strong> {% if usuario.is_active %}Ativo{% else %}Inativo{% endif %}</p>
              <p><strong>Email:</strong> {{ usuario.email }}</p>
            </div>
            
            <div>
              <a href="#">Editar</a>
              <form method="post" action="#">
                {% csrf_token %}
                <input type="hidden" name="usuario_id" value="{{ usuario.id }}">
                <button type="submit">
                  {% if usuario.is_active %}Inativar{% else %}Ativar{% endif %}
                </button>
              </form>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div>
          <p>Nenhum usuário encontrado.</p>
        </div>
      {% endif %}
    </div>
  
    {% if is_paginated %}
      <div>
        {% if page_obj.has_previous %}
          <a href="#">« primeira</a>
          <a href="#">anterior</a>
        {% endif %}
        
        <span>Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</span>
        
        {% if page_obj.has_next %}
          <a href="#">próxima</a>
          <a href="#">última »</a>
        {% endif %}
      </div>
    {% endif %}

  </div>


</div>
  
  
  
  

{% endblock %}	